
;; Instructions to test
;;   + ADC AND ASL
;;   + BIT
;;   + CMP CPX CPY
;;   + DEC
;;   + EOR
;;   + INC
;;   + JMP JSR
;;   + LDA LDX LDY LSR
;;   + ORA ROL ROR
;;   + SBC STA STX STY
;;
;; Almost the same routine with zero_page.asm
;; except the JMP and JSR instruction


.segment "NES_FILE_HEADER"
.byte "NES", $1A, 2

.segment "CODE"
main:
    STA $040f ; 0x8000 @REG A=0x00 X=0x00 Y=0x00 S=0xfd P=0b00100100 PC=0x8003 @RAM 0x040f 0x00

    INC $040f ; 0x8003 @REG A=0x00 X=0x00 Y=0x00 S=0xfd P=0b00100100 PC=0x8006 @RAM 0x040f 0x01

    LDX $040f ; 0x8006 @REG A=0x00 X=0x01 Y=0x00 S=0xfd P=0b00100100 PC=0x8009

    ROR $040f ; 0x8009 @REG A=0x00 X=0x01 Y=0x00 S=0xfd P=0b10100101 PC=0x800c @RAM 0x040f 0x80
    LSR $040f ; 0x800c @REG A=0x00 X=0x01 Y=0x00 S=0xfd P=0b00100100 PC=0x800f @RAM 0x040f 0x40

    LDY $040f ; 0x800f @REG A=0x00 X=0x01 Y=0x40 S=0xfd P=0b00100100 PC=0x8012

    DEC $040f ; 0x8012 @REG A=0x00 X=0x01 Y=0x40 S=0xfd P=0b00100100 PC=0x8015 @RAM 0x040f 0x3f

    LDA $040f ; 0x8015 @REG A=0x3f X=0x01 Y=0x40 S=0xfd P=0b00100100 PC=0x8018

    STX $0200 ; 0x8018 @REG A=0x3f X=0x01 Y=0x40 S=0xfd P=0b00100100 PC=0x801b @RAM 0x0200 0x01
    STY $07ff ; 0x801b @REG A=0x3f X=0x01 Y=0x40 S=0xfd P=0b00100100 PC=0x801e @RAM 0x07ff 0x40

    SBC $0200 ; 0x801e @REG A=0x3e X=0x01 Y=0x40 S=0xfd P=0b00100100 PC=0x8021
    ADC $07ff ; 0x8021 @REG A=0x7e X=0x01 Y=0x40 S=0xfd P=0b00100100 PC=0x8024

    EOR $040f ; 0x8024 @REG A=0x41 X=0x01 Y=0x40 S=0xfd P=0b00100100 PC=0x8027

    BIT $07ff ; 0x8027 @REG A=0x41 X=0x01 Y=0x40 S=0xfd P=0b01100100 PC=0x802a

    AND $07ff ; 0x802a @REG A=0x40 X=0x01 Y=0x40 S=0xfd P=0b01100100 PC=0x802d
    ORA $0200 ; 0x802d @REG A=0x41 X=0x01 Y=0x40 S=0xfd P=0b01100100 PC=0x8030

    ASL $07ff ; 0x8030 @REG A=0x41 X=0x01 Y=0x40 S=0xfd P=0b11100100 PC=0x8033 @RAM 0x07ff 0x80
    ROL $07ff ; 0x8033 @REG A=0x41 X=0x01 Y=0x40 S=0xfd P=0b01100101 PC=0x8036 @RAM 0x07ff 0x01

    CMP $040f ; 0x8036 @REG A=0x41 X=0x01 Y=0x40 S=0xfd P=0b01100100 PC=0x8039
    CPX $0200 ; 0x8039 @REG A=0x41 X=0x01 Y=0x40 S=0xfd P=0b01100110 PC=0x803c
    CPY $07ff ; 0x803c @REG A=0x41 X=0x01 Y=0x40 S=0xfd P=0b01100100 PC=0x803f

    JSR $8043 ; 0x803f @REG A=0x41 X=0x01 Y=0x40 S=0xfb P=0b01100100 PC=0x8043
    NOP       ; 0x8042

end:
    JMP $8042 ; 0x8043 @REG A=0x41 X=0x01 Y=0x40 S=0xfb P=0b01100100 PC=0x8042

.segment "INTERRUPT_VECTOR"
    .word main, main, main