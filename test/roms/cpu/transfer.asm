
.segment "NES_FILE_HEADER"
.byte "NES", $1A, 2

.segment "CODE"
main:
    LDA #$1 ; @REG A=0x01 X=0x00 Y=0x00 S=0xfd P=0b00100100 PC=0x8002
    TAX     ; @REG A=0x01 X=0x01 Y=0x00 S=0xfd P=0b00100100 PC=0x8003
    TAY     ; @REG A=0x01 X=0x01 Y=0x01 S=0xfd P=0b00100100 PC=0x8004

    LDX #$2 ; @REG A=0x01 X=0x02 Y=0x01 S=0xfd P=0b00100100 PC=0x8006
    TXA     ; @REG A=0x02 X=0x02 Y=0x01 S=0xfd P=0b00100100 PC=0x8007

    LDY #$3 ; @REG A=0x02 X=0x02 Y=0x03 S=0xfd P=0b00100100 PC=0x8009
    TYA     ; @REG A=0x03 X=0x02 Y=0x03 S=0xfd P=0b00100100 PC=0x800a

    TSX     ; @REG A=0x03 X=0xfd Y=0x03 S=0xfd P=0b10100100 PC=0x800b
    LDX #$2 ; @REG A=0x03 X=0x02 Y=0x03 S=0xfd P=0b00100100 PC=0x800d
    TXS     ; @REG A=0x03 X=0x02 Y=0x03 S=0x02 P=0b00100100 PC=0x800e

.segment "INTERRUPT_VECTOR"
    .word main, main, main