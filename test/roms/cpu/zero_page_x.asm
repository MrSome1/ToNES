
;; Instructions to test
;;   + ADC AND ASL
;;   + CMP
;;   + DEC
;;   + EOR
;;   + INC
;;   + LDA LDY LSR
;;   + ORA ROL ROR
;;   + SBC STA STY

.segment "NES_FILE_HEADER"
.byte "NES", $1A, 2

.segment "CODE"
main:
    ;; Initialize
    LDA #$5a  ; 0x8000 @REG A=0x5a X=0x00 Y=0x00 S=0xfd P=0b00100100 PC=0x8002
    LDX #$01  ; 0x8002 @REG A=0x5a X=0x01 Y=0x00 S=0xfd P=0b00100100 PC=0x8004

    STA $fe,X ; 0x8004 @REG A=0x5a X=0x01 Y=0x00 S=0xfd P=0b00100100 PC=0x8006 @RAM 0x00ff 0x5a

    INC $fe,X ; 0x8006 @REG A=0x5a X=0x01 Y=0x00 S=0xfd P=0b00100100 PC=0x8008 @RAM 0x00ff 0x5b

    ASL $fe,X ; 0x8008 @REG A=0x5a X=0x01 Y=0x00 S=0xfd P=0b10100100 PC=0x800a @RAM 0x00ff 0xb6
    ROL $fe,X ; 0x800a @REG A=0x5a X=0x01 Y=0x00 S=0xfd P=0b00100101 PC=0x800c @RAM 0x00ff 0x6c

    LDY $fe,X ; 0x800c @REG A=0x5a X=0x01 Y=0x6c S=0xfd P=0b00100101 PC=0x800e
    STY $ff,X ; 0x800e @REG A=0x5a X=0x01 Y=0x6c S=0xfd P=0b00100101 PC=0x8010 @RAM 0x0000 0x6c

    ROR $ff,X ; 0x8010 @REG A=0x5a X=0x01 Y=0x6c S=0xfd P=0b10100100 PC=0x8012 @RAM 0x0000 0xb6
    LSR $ff,X ; 0x8012 @REG A=0x5a X=0x01 Y=0x6c S=0xfd P=0b00100100 PC=0x8014 @RAM 0x0000 0x5b

    DEC $ff,X ; 0x8014 @REG A=0x5a X=0x01 Y=0x6c S=0xfd P=0b00100100 PC=0x8016 @RAM 0x0000 0x5a

    LDA $fe,X ; 0x8016 @REG A=0x6c X=0x01 Y=0x6c S=0xfd P=0b00100100 PC=0x8018

    EOR $ff,X ; 0x8018 @REG A=0x36 X=0x01 Y=0x6c S=0xfd P=0b00100100 PC=0x801a
    AND $fe,X ; 0x801a @REG A=0x24 X=0x01 Y=0x6c S=0xfd P=0b00100100 PC=0x801c
    ORA $ff,X ; 0x801c @REG A=0x7e X=0x01 Y=0x6c S=0xfd P=0b00100100 PC=0x801e

    CMP $ff,X ; 0x801e @REG A=0x7e X=0x01 Y=0x6c S=0xfd P=0b00100101 PC=0x8020

    SBC $fe,X ; 0x8020 @REG A=0x12 X=0x01 Y=0x6c S=0xfd P=0b00100101 PC=0x8022
    ADC $ff,X ; 0x8022 @REG A=0x6d X=0x01 Y=0x6c S=0xfd P=0b00100100 PC=0x8024

.segment "INTERRUPT_VECTOR"
    .word main, main, main